@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --ui-font-ui: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Apple Color Emoji', 'Segoe UI Emoji';
    --ui-font-mono: Consolas, 'Cascadia Code', ui-monospace, SFMono-Regular, Menlo, Monaco, 'Liberation Mono', 'Courier New', monospace;

    --ui-radius-sm: 6px;
    --ui-radius-md: 10px;
    --ui-shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.08);
    --ui-shadow-md: 0 6px 16px rgba(0, 0, 0, 0.12);

    --ui-bg: #0b1220;
    --ui-surface: #0f172a;
    --ui-surface-2: #111c36;
    --ui-border: rgba(148, 163, 184, 0.22);

    --ui-text: rgba(226, 232, 240, 0.92);
    --ui-text-muted: rgba(148, 163, 184, 0.92);
    --ui-text-dim: rgba(148, 163, 184, 0.72);

    --ui-primary: #60a5fa;
    --ui-primary-contrast: #0b1220;
    --ui-accent: #a78bfa;
    --ui-danger: #fb7185;
    --ui-focus: #93c5fd;

    --ui-editor-bg: #0b1220;
    --ui-editor-text: rgba(226, 232, 240, 0.92);
    --ui-editor-caret: rgba(226, 232, 240, 0.92);
    --ui-editor-selection: rgba(148, 163, 184, 0.28);
    --ui-editor-grid: color-mix(in srgb, var(--ui-editor-text) 10%, transparent);
    --ui-editor-boundary: color-mix(in srgb, var(--ui-editor-text) 45%, transparent);

    --ui-icon-stroke: 1.8;
  }

  html,
  body,
  #root {
    height: 100%;
  }

  html {
    color-scheme: dark;
  }

  body {
    margin: 0;
    background: var(--ui-bg);
    color: var(--ui-text);
    font-family: var(--ui-font-ui);
    transition: background-color 160ms ease, color 160ms ease;
  }

  button,
  input,
  select,
  textarea {
    font-family: inherit;
  }

  pre,
  code,
  kbd,
  samp {
    font-family: var(--ui-font-mono);
  }

  html[data-theme='light'] {
    color-scheme: light;
    --ui-bg: #f6f7fb;
    --ui-surface: #ffffff;
    --ui-surface-2: #f1f5f9;
    --ui-border: rgba(15, 23, 42, 0.14);

    --ui-text: rgba(15, 23, 42, 0.92);
    --ui-text-muted: rgba(51, 65, 85, 0.86);
    --ui-text-dim: rgba(51, 65, 85, 0.66);

    --ui-primary: #2563eb;
    --ui-primary-contrast: #ffffff;
    --ui-accent: #7c3aed;
    --ui-danger: #e11d48;
    --ui-focus: #2563eb;

    --ui-editor-bg: #ffffff;
    --ui-editor-text: rgba(15, 23, 42, 0.92);
    --ui-editor-caret: rgba(15, 23, 42, 0.92);
    --ui-editor-selection: rgba(37, 99, 235, 0.14);
  }

  html[data-theme='dark'] {
    color-scheme: dark;
    --ui-bg: #0b1220;
    --ui-surface: #0f172a;
    --ui-surface-2: #111c36;
    --ui-border: rgba(148, 163, 184, 0.22);

    --ui-text: rgba(226, 232, 240, 0.92);
    --ui-text-muted: rgba(148, 163, 184, 0.92);
    --ui-text-dim: rgba(148, 163, 184, 0.72);

    --ui-primary: #60a5fa;
    --ui-primary-contrast: #0b1220;
    --ui-accent: #a78bfa;
    --ui-danger: #fb7185;
    --ui-focus: #93c5fd;

    --ui-editor-bg: #0b1220;
    --ui-editor-text: rgba(226, 232, 240, 0.92);
    --ui-editor-caret: rgba(226, 232, 240, 0.92);
    --ui-editor-selection: rgba(148, 163, 184, 0.28);
  }

  html[data-theme='monokai'] {
    color-scheme: dark;
    --ui-bg: #1d1e1c;
    --ui-surface: #222320;
    --ui-surface-2: #2a2b27;
    --ui-border: rgba(248, 248, 242, 0.16);

    --ui-text: rgba(248, 248, 242, 0.92);
    --ui-text-muted: rgba(202, 204, 197, 0.88);
    --ui-text-dim: rgba(202, 204, 197, 0.68);

    --ui-primary: #a6e22e;
    --ui-primary-contrast: #1d1e1c;
    --ui-accent: #fd971f;
    --ui-danger: #f92672;
    --ui-focus: #66d9ef;

    --ui-editor-bg: #1d1e1c;
    --ui-editor-text: rgba(248, 248, 242, 0.92);
    --ui-editor-caret: rgba(248, 248, 242, 0.92);
    --ui-editor-selection: rgba(102, 217, 239, 0.22);
  }

  html[data-theme='kimble-dark'] {
    color-scheme: dark;
    --ui-bg: #0f111a;
    --ui-surface: #141827;
    --ui-surface-2: #1a2034;
    --ui-border: rgba(224, 231, 255, 0.18);

    --ui-text: rgba(224, 231, 255, 0.92);
    --ui-text-muted: rgba(165, 180, 252, 0.9);
    --ui-text-dim: rgba(165, 180, 252, 0.68);

    --ui-primary: #22d3ee;
    --ui-primary-contrast: #0f111a;
    --ui-accent: #a78bfa;
    --ui-danger: #fb7185;
    --ui-focus: #38bdf8;

    --ui-editor-bg: #0f111a;
    --ui-editor-text: rgba(224, 231, 255, 0.92);
    --ui-editor-caret: rgba(224, 231, 255, 0.92);
    --ui-editor-selection: rgba(34, 211, 238, 0.18);
  }

  html[data-theme='dracula'] {
    color-scheme: dark;
    --ui-bg: #282a36;
    --ui-surface: #2f3142;
    --ui-surface-2: #36394d;
    --ui-border: rgba(248, 248, 242, 0.16);

    --ui-text: rgba(248, 248, 242, 0.92);
    --ui-text-muted: rgba(189, 147, 249, 0.92);
    --ui-text-dim: rgba(189, 147, 249, 0.68);

    --ui-primary: #50fa7b;
    --ui-primary-contrast: #282a36;
    --ui-accent: #bd93f9;
    --ui-danger: #ff5555;
    --ui-focus: #8be9fd;

    --ui-editor-bg: #282a36;
    --ui-editor-text: rgba(248, 248, 242, 0.92);
    --ui-editor-caret: rgba(248, 248, 242, 0.92);
    --ui-editor-selection: rgba(139, 233, 253, 0.18);
  }

  html[data-theme='nord'] {
    color-scheme: dark;
    --ui-bg: #2e3440;
    --ui-surface: #3b4252;
    --ui-surface-2: #434c5e;
    --ui-border: rgba(236, 239, 244, 0.16);

    --ui-text: rgba(236, 239, 244, 0.92);
    --ui-text-muted: rgba(136, 192, 208, 0.92);
    --ui-text-dim: rgba(136, 192, 208, 0.68);

    --ui-primary: #88c0d0;
    --ui-primary-contrast: #2e3440;
    --ui-accent: #81a1c1;
    --ui-danger: #bf616a;
    --ui-focus: #8fbcbb;

    --ui-editor-bg: #2e3440;
    --ui-editor-text: rgba(236, 239, 244, 0.92);
    --ui-editor-caret: rgba(236, 239, 244, 0.92);
    --ui-editor-selection: rgba(143, 188, 187, 0.18);
  }

  html[data-theme='solarized-light'] {
    color-scheme: light;
    --ui-bg: #fdf6e3;
    --ui-surface: #fffdf6;
    --ui-surface-2: #f6efe0;
    --ui-border: rgba(7, 54, 66, 0.18);

    --ui-text: rgba(7, 54, 66, 0.92);
    --ui-text-muted: rgba(88, 110, 117, 0.9);
    --ui-text-dim: rgba(88, 110, 117, 0.68);

    --ui-primary: #268bd2;
    --ui-primary-contrast: #000000;
    --ui-accent: #6c71c4;
    --ui-danger: #dc322f;
    --ui-focus: #268bd2;

    --ui-editor-bg: #fffdf6;
    --ui-editor-text: rgba(7, 54, 66, 0.92);
    --ui-editor-caret: rgba(7, 54, 66, 0.92);
    --ui-editor-selection: rgba(38, 139, 210, 0.16);
  }

  html[data-theme='solarized-dark'] {
    color-scheme: dark;
    --ui-bg: #002b36;
    --ui-surface: #073642;
    --ui-surface-2: #0b3f4d;
    --ui-border: rgba(238, 232, 213, 0.16);

    --ui-text: rgba(238, 232, 213, 0.92);
    --ui-text-muted: rgba(147, 161, 161, 0.9);
    --ui-text-dim: rgba(147, 161, 161, 0.68);

    --ui-primary: #2aa198;
    --ui-primary-contrast: #002b36;
    --ui-accent: #b58900;
    --ui-danger: #dc322f;
    --ui-focus: #2aa198;

    --ui-editor-bg: #002b36;
    --ui-editor-text: rgba(238, 232, 213, 0.92);
    --ui-editor-caret: rgba(238, 232, 213, 0.92);
    --ui-editor-selection: rgba(42, 161, 152, 0.18);
  }
}

@layer components {
  .ui-app {
    background: var(--ui-bg);
    color: var(--ui-text);
  }

  .ui-topbar {
    background: var(--ui-surface);
    border-bottom: 1px solid var(--ui-border);
  }

  .ui-panel {
    background: var(--ui-surface);
    border: 1px solid var(--ui-border);
    border-radius: var(--ui-radius-md);
    box-shadow: var(--ui-shadow-sm);
  }

  .ui-toolbar {
    background: var(--ui-surface);
    border: 1px solid var(--ui-border);
    border-radius: var(--ui-radius-md);
    box-shadow: var(--ui-shadow-sm);
  }

  .ui-divider {
    border-color: var(--ui-border);
  }

  .ui-btn {
    background: var(--ui-surface-2);
    border: 1px solid var(--ui-border);
    border-radius: var(--ui-radius-sm);
    color: var(--ui-text);
    transition: background-color 140ms ease, border-color 140ms ease, color 140ms ease, transform 80ms ease;
  }

  .ui-btn:hover {
    background: color-mix(in srgb, var(--ui-surface-2) 80%, var(--ui-primary) 20%);
  }

  .ui-btn:active {
    transform: translateY(0.5px);
  }

  .ui-btn:focus-visible {
    outline: 2px solid var(--ui-focus);
    outline-offset: 2px;
  }

  .ui-btn-primary {
    background: var(--ui-primary);
    border-color: color-mix(in srgb, var(--ui-primary) 70%, var(--ui-border) 30%);
    color: var(--ui-primary-contrast);
  }

  .ui-btn-primary:hover {
    background: color-mix(in srgb, var(--ui-primary) 88%, #ffffff 12%);
  }

  .ui-input,
  .ui-select {
    background: var(--ui-surface-2);
    border: 1px solid var(--ui-border);
    border-radius: var(--ui-radius-sm);
    color: var(--ui-text);
    transition: background-color 140ms ease, border-color 140ms ease, color 140ms ease;
  }

  .ui-input:focus,
  .ui-select:focus {
    outline: 2px solid var(--ui-focus);
    outline-offset: 1px;
  }

  .ui-editor {
    background: var(--ui-editor-bg);
    border: 1px solid var(--ui-border);
    border-radius: var(--ui-radius-md);
    color: var(--ui-editor-text);
    box-shadow: var(--ui-shadow-sm);
  }

  .ui-editor-pre {
    color: var(--ui-editor-text);
    font-family: var(--ui-font-mono);
  }

  .ui-editor-caret {
    background: var(--ui-editor-caret);
  }

  .ui-icon {
    stroke-width: var(--ui-icon-stroke);
  }
}
